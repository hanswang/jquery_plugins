(function(c){c.okCycle={};c.fn.okCycle=function(b){function v(a){var b=c.inArray(a[0],this.data(g));-1<b&&(a.imagesLoaded(function(){c(this).fadeIn()}),a[0].src=a[0]._src,delete this.data(g)[b])}function s(a){a=a||this;a.data(e)&&a.data(e,clearTimeout(a.data(e)));return a.data(n,!1)}function k(){var a=this.data(n,!0);return a.data(e,setTimeout(function(){p.call(a)},b.duration))}function p(){var a=this.data(h),b=a+1;return q(this,a,b==this.children().length?0:b,!0)}function t(){var a=this.data(h),
b=a-1;return q(this,a,0>b?this.children().length-1:b,!1)}function u(a){var b=this.data(h);return q(this,b,a,a>b)}function q(a,d,l,g){var f,e;!a.data(r)&&d!=l&&(a.data(r,!0),f=c.extend(c.Deferred(),{from:a.children().eq(d),to:a.children().eq(l),fromIndex:d,toIndex:l,forward:g,easing:b.easing,speed:b.speed}),b.beforeMove.call(a,f),f.done(function(){a.data(r,!1);b.afterMove.call(a,f);a.data(n)&&k.call(a)}),d=m.move.call(a.data(h,l),f),0<b.preload&&b.loadOnShow&&(d||m.to).find("img").each(function(){v.call(a,
c(this))}),c.each(b.ui,function(){(e=c.okCycle.ui[this])&&e.move&&e.move.call(a,a.data("ui"),f)}));return a}b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:300,preload:1,loadOnShow:!1,inGroupsOf:1,autoplay:!1,hoverBehavior:function(){var a=this;(this.data("ui")||a).hover(function(){a.pause()},function(){a.play()})},afterSetup:function(){},beforeMove:function(a){},afterMove:function(a){}},b);var m=c.okCycle[b.effect],r="animating",n="autoplaying",h="activeSlide",e="interval",g=
"unloaded";if(!m)throw"No such transition '"+b.effect+"'";return this.each(function(){var a=c(this),d=!1===b.preload?c(""):c("img",a),e;b.preload&&0<b.preload&&(b.loadOnShow&&(a.data(g,[]),d.slice(b.preload).each(function(){this._src=this.src;this.src="";a.data(g).push(c(this).hide()[0])})),d=d.slice(0,b.preload));a.data(h,0);b.ui.length&&(a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()),c.each(b.ui,function(d,f){(e=c.okCycle.ui[f].init)&&e.call(a,a.data("ui"),b)}));d.imagesLoaded(function(){m.init.call(a,
b)});a.extend({pause:s,play:k,next:p,prev:t,moveTo:u});if(!0===b.autoplay||"number"==typeof b.autoPlay)setTimeout(function(){k.call(a)},isNaN(b.autoplay)?0:b.autoplay),"function"==typeof b.hoverBehavior&&b.hoverBehavior.call(a);b.afterSetup.call(a)}).extend({pause:function(a){return s.call(a||this)},play:function(a){return k.call(a||this)},next:function(a){return p.call(a||this)},prev:function(a){return t.call(a||this)},moveTo:function(){var a,b=arguments[0];2==arguments.length&&(a=arguments[0],b=
arguments[1]);return u.call(a||this,b)}})}})(jQuery);
